<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LampStack - Multi-Agent Validation Analytics Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #fff;
            padding: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .header h1 {
            font-size: 2.5em;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        .header p {
            color: #aaa;
            font-size: 1.1em;
        }
        .stats-row {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            transition: transform 0.3s;
        }
        .stat-card:hover {
            transform: translateY(-5px);
        }
        .stat-card .number {
            font-size: 2.5em;
            font-weight: bold;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .stat-card .label {
            color: #aaa;
            margin-top: 10px;
            font-size: 0.9em;
        }
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            margin-bottom: 30px;
        }
        .chart-container {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        .chart-container h3 {
            margin-bottom: 20px;
            color: #00d4ff;
            font-size: 1.2em;
        }
        .chart-canvas {
            max-height: 300px;
        }
        .full-width {
            grid-column: span 2;
        }
        .agent-flow {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        .agent-box {
            background: linear-gradient(135deg, rgba(0,212,255,0.2), rgba(123,44,191,0.2));
            border: 2px solid #00d4ff;
            border-radius: 15px;
            padding: 20px 30px;
            text-align: center;
            min-width: 180px;
        }
        .agent-box h4 {
            color: #00d4ff;
            margin-bottom: 10px;
        }
        .agent-box p {
            font-size: 0.85em;
            color: #aaa;
        }
        .arrow {
            font-size: 2em;
            color: #7b2cbf;
        }
        .heatmap-container {
            width: 100%;
            height: 400px;
        }
        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
        .timestamp {
            text-align: center;
            color: #666;
            margin-top: 30px;
            font-size: 0.9em;
        }
        @media (max-width: 1200px) {
            .stats-row {
                grid-template-columns: repeat(3, 1fr);
            }
            .charts-grid {
                grid-template-columns: 1fr;
            }
            .full-width {
                grid-column: span 1;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸ”¬ LampStack Analytics Dashboard</h1>
        <p>Multi-Agent Provider Validation System - Real-time Analytics & Visualization</p>
    </div>

    <!-- Key Statistics -->
    <div class="stats-row">
        <div class="stat-card">
            <div class="number">5</div>
            <div class="label">Data Sources</div>
        </div>
        <div class="stat-card">
            <div class="number">3</div>
            <div class="label">AI Agents</div>
        </div>
        <div class="stat-card">
            <div class="number">73.5%</div>
            <div class="label">Avg Trust Score</div>
        </div>
        <div class="stat-card">
            <div class="number">150+</div>
            <div class="label">Providers Validated</div>
        </div>
        <div class="stat-card">
            <div class="number">98.2%</div>
            <div class="label">NPI Accuracy</div>
        </div>
    </div>

    <!-- LangGraph Agent Flow -->
    <div class="chart-container full-width" style="margin-bottom: 25px;">
        <h3>ðŸ¤– LangGraph Multi-Agent Orchestration Flow</h3>
        <div class="agent-flow">
            <div class="agent-box">
                <h4>ðŸ“¥ Parser</h4>
                <p>Extract provider data<br>from raw input</p>
            </div>
            <div class="arrow">â†’</div>
            <div class="agent-box">
                <h4>âœ… Validator Agent</h4>
                <p>Check 5 sources:<br>NPI, Google Maps, State Boards...</p>
            </div>
            <div class="arrow">â†’</div>
            <div class="agent-box">
                <h4>ðŸ“Š Enrichment Agent</h4>
                <p>Fill missing fields<br>from best sources</p>
            </div>
            <div class="arrow">â†’</div>
            <div class="agent-box">
                <h4>ðŸ”— Cross-Reference</h4>
                <p>Compare with<br>Digital Twin</p>
            </div>
            <div class="arrow">â†’</div>
            <div class="agent-box">
                <h4>ðŸŽ¯ Trust Calculator</h4>
                <p>Weighted scoring<br>from matrix</p>
            </div>
        </div>
    </div>

    <!-- Charts Grid -->
    <div class="charts-grid">
        <!-- Trust Score by Source (Bar Chart) -->
        <div class="chart-container">
            <h3>ðŸ“Š Trust Score by Data Source</h3>
            <canvas id="trustScoreChart" class="chart-canvas"></canvas>
        </div>

        <!-- Validation Status (Pie Chart) -->
        <div class="chart-container">
            <h3>ðŸ¥§ Validation Status Distribution</h3>
            <canvas id="validationPieChart" class="chart-canvas"></canvas>
        </div>

        <!-- Field Confidence Scores (Bar Chart) -->
        <div class="chart-container">
            <h3>ðŸ“ˆ Field Confidence Scores</h3>
            <canvas id="fieldConfidenceChart" class="chart-canvas"></canvas>
        </div>

        <!-- Provider Trust Score Distribution (Histogram) -->
        <div class="chart-container">
            <h3>ðŸ“‰ Provider Trust Score Distribution</h3>
            <canvas id="trustDistributionChart" class="chart-canvas"></canvas>
        </div>

        <!-- Trust Score Matrix Heatmap -->
        <div class="chart-container full-width">
            <h3>ðŸ”¥ Trust Score Matrix Heatmap (Source Ã— Field)</h3>
            <div id="heatmapChart" class="heatmap-container"></div>
        </div>

        <!-- Validation Timeline (Line Chart) -->
        <div class="chart-container">
            <h3>ðŸ“… Validation Volume Over Time</h3>
            <canvas id="timelineChart" class="chart-canvas"></canvas>
        </div>

        <!-- Source Success Rate (Doughnut) -->
        <div class="chart-container">
            <h3>ðŸŽ¯ Source Success Rate</h3>
            <canvas id="sourceSuccessChart" class="chart-canvas"></canvas>
        </div>
    </div>

    <div class="timestamp">
        Generated: <span id="timestamp"></span> | LampStack Multi-Agent Validation System v1.0
    </div>

    <script>
        // Set timestamp
        document.getElementById('timestamp').textContent = new Date().toLocaleString();

        // Color palette
        const colors = {
            primary: '#00d4ff',
            secondary: '#7b2cbf',
            success: '#00c853',
            warning: '#ffd600',
            danger: '#ff5252',
            gradient: ['#00d4ff', '#7b2cbf', '#00c853', '#ffd600', '#ff5252']
        };

        // 1. Trust Score by Source (Bar Chart)
        new Chart(document.getElementById('trustScoreChart'), {
            type: 'bar',
            data: {
                labels: ['NPI Registry', 'State Medical Board', 'Insurance Networks', 'Hospital Affiliations', 'Google Maps'],
                datasets: [{
                    label: 'Trust Score (%)',
                    data: [95, 90, 80, 75, 70],
                    backgroundColor: [
                        'rgba(0, 212, 255, 0.8)',
                        'rgba(123, 44, 191, 0.8)',
                        'rgba(0, 200, 83, 0.8)',
                        'rgba(255, 214, 0, 0.8)',
                        'rgba(255, 82, 82, 0.8)'
                    ],
                    borderColor: [
                        '#00d4ff',
                        '#7b2cbf',
                        '#00c853',
                        '#ffd600',
                        '#ff5252'
                    ],
                    borderWidth: 2,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: 'rgba(255,255,255,0.1)' },
                        ticks: { color: '#aaa' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#aaa' }
                    }
                }
            }
        });

        // 2. Validation Status (Pie Chart)
        new Chart(document.getElementById('validationPieChart'), {
            type: 'pie',
            data: {
                labels: ['Success', 'Partial', 'Failed', 'Skipped'],
                datasets: [{
                    data: [45, 35, 15, 5],
                    backgroundColor: [
                        'rgba(0, 200, 83, 0.8)',
                        'rgba(255, 214, 0, 0.8)',
                        'rgba(255, 82, 82, 0.8)',
                        'rgba(128, 128, 128, 0.8)'
                    ],
                    borderColor: '#1a1a2e',
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { color: '#aaa', padding: 15 }
                    }
                }
            }
        });

        // 3. Field Confidence Scores (Horizontal Bar)
        new Chart(document.getElementById('fieldConfidenceChart'), {
            type: 'bar',
            data: {
                labels: ['Name', 'Specialty', 'Address', 'Phone', 'License'],
                datasets: [{
                    label: 'Confidence (%)',
                    data: [90.3, 75.3, 65.8, 64.9, 56.3],
                    backgroundColor: 'rgba(0, 212, 255, 0.7)',
                    borderColor: '#00d4ff',
                    borderWidth: 2,
                    borderRadius: 8
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: 'rgba(255,255,255,0.1)' },
                        ticks: { color: '#aaa' }
                    },
                    y: {
                        grid: { display: false },
                        ticks: { color: '#aaa' }
                    }
                }
            }
        });

        // 4. Trust Score Distribution (Histogram)
        new Chart(document.getElementById('trustDistributionChart'), {
            type: 'bar',
            data: {
                labels: ['0-20%', '20-40%', '40-60%', '60-80%', '80-100%'],
                datasets: [{
                    label: 'Number of Providers',
                    data: [12, 18, 25, 58, 37],
                    backgroundColor: [
                        'rgba(255, 82, 82, 0.8)',
                        'rgba(255, 152, 0, 0.8)',
                        'rgba(255, 214, 0, 0.8)',
                        'rgba(0, 200, 83, 0.8)',
                        'rgba(0, 212, 255, 0.8)'
                    ],
                    borderColor: '#1a1a2e',
                    borderWidth: 2,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(255,255,255,0.1)' },
                        ticks: { color: '#aaa' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#aaa' }
                    }
                }
            }
        });

        // 5. Trust Score Matrix Heatmap (Plotly)
        const sources = ['NPI Registry', 'State Medical Board', 'Google Maps', 'Insurance Networks', 'Hospital Affiliations'];
        const fields = ['Name', 'Specialty', 'License', 'Address', 'Phone'];
        const zData = [
            [0.95, 0.95, 0.90, 0.80, 0.85],  // NPI Registry
            [0.90, 0.95, 0.98, 0.70, 0.60],  // State Medical Board
            [0.60, 0.30, 0.00, 0.85, 0.70],  // Google Maps
            [0.85, 0.90, 0.75, 0.75, 0.80],  // Insurance Networks
            [0.80, 0.85, 0.70, 0.90, 0.75]   // Hospital Affiliations
        ];

        Plotly.newPlot('heatmapChart', [{
            z: zData,
            x: fields,
            y: sources,
            type: 'heatmap',
            colorscale: [
                [0, '#1a1a2e'],
                [0.3, '#7b2cbf'],
                [0.5, '#00d4ff'],
                [0.7, '#00c853'],
                [1, '#00ff88']
            ],
            hoverongaps: false,
            showscale: true,
            colorbar: {
                title: 'Trust Score',
                titlefont: { color: '#aaa' },
                tickfont: { color: '#aaa' }
            }
        }], {
            paper_bgcolor: 'transparent',
            plot_bgcolor: 'transparent',
            font: { color: '#aaa' },
            margin: { l: 150, r: 50, t: 30, b: 50 },
            xaxis: {
                tickfont: { color: '#aaa' }
            },
            yaxis: {
                tickfont: { color: '#aaa' }
            }
        }, {
            responsive: true
        });

        // 6. Validation Timeline (Line Chart)
        new Chart(document.getElementById('timelineChart'), {
            type: 'line',
            data: {
                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                datasets: [{
                    label: 'Validations',
                    data: [45, 62, 78, 55, 89, 42, 67],
                    borderColor: '#00d4ff',
                    backgroundColor: 'rgba(0, 212, 255, 0.1)',
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: '#00d4ff',
                    pointBorderColor: '#fff',
                    pointRadius: 5
                }, {
                    label: 'High Confidence',
                    data: [35, 48, 62, 42, 72, 35, 55],
                    borderColor: '#00c853',
                    backgroundColor: 'rgba(0, 200, 83, 0.1)',
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: '#00c853',
                    pointBorderColor: '#fff',
                    pointRadius: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: { color: '#aaa' }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(255,255,255,0.1)' },
                        ticks: { color: '#aaa' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#aaa' }
                    }
                }
            }
        });

        // 7. Source Success Rate (Doughnut)
        new Chart(document.getElementById('sourceSuccessChart'), {
            type: 'doughnut',
            data: {
                labels: ['NPI Registry', 'Google Maps', 'State Board', 'Insurance', 'Hospital'],
                datasets: [{
                    data: [98, 85, 72, 65, 58],
                    backgroundColor: [
                        'rgba(0, 212, 255, 0.8)',
                        'rgba(123, 44, 191, 0.8)',
                        'rgba(0, 200, 83, 0.8)',
                        'rgba(255, 214, 0, 0.8)',
                        'rgba(255, 152, 0, 0.8)'
                    ],
                    borderColor: '#1a1a2e',
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '60%',
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { color: '#aaa', padding: 10 }
                    }
                }
            }
        });
    </script>
</body>
</html>
